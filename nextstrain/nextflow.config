
params {

subset_number = 5000
clockfilteriqd = 10
alignment_ref = '/home/mwatson/COVID-19/reference/reference.gb'
metadata = '/home/mwatson/COVID-19/nextstrain_build/June_29_2021/Nextstrain_metadata_290621.csv'
output_dir = '/home/mwatson/COVID-19/one_off/July_2021/12_07_21/nexflow_iterations_5000/'
colortsv = '/home/mwatson/COVID-19/nextstrain_build/config/colors_2.tsv'
config = '/home/mwatson/COVID-19/nextstrain_build/config/auspice_config.json'
latlong = '/home/mwatson/COVID-19/nextstrain_build/config/lat_ontario_health_unit.tsv'
clades = '/home/mwatson/COVID-19/nextstrain_build/clades.tsv'
// threads set to auto uses the total number of cores for each process of align and tree
threads = 1
cleanup = true
start_iteration = 18
stop_iteration = 19
clock = 10
lineages = ['P.1.1', 'A.23.1']
lineage_report = '/NetDrive/Projects/COVID-19/Other/master_fasta/lineage_report_all*'
master_fasta = '/NetDrive/Projects/COVID-19/Other/master_fasta/complete_all*'
cache = ''

}

// https://nf-co.re/usage/configuration#tuning-workflow-resources
process {
    withLabel: 'med_mem' {
    cpus = 1
    memory = '1GB'
    executor = 'local'
    scratch=true
  }

}

profiles {
    standard {
	process.memory = '1GB'
        executor = 'local'
	cpus = 50
      	memory = '80GB'
    }
    singularity {
	process.container = "file:///${baseDir}/nextflow_nextstrain.sif"
	singularity.enabled = true
	singularity.cacheDir = params.cache
	singularity.autoMounts = true
        singularity.envWhitelist = "SINGULARITY_BIND"
	singularity.runOptions= "--bind /NetDrive/Projects/COVID-19/Other/master_fasta/,/NetDrive:/src"

	}
    podman {
	process.container = "nextflow_nextstrain"
	podman.enabled = true
	temp = 'auto'
	
}
}

executor {
      name = 'local'
      cpus = 50
      memory = '80GB'
}







